<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
  <style>
    * {
        font-size: 20px;
  }
    .team, .member {
        width: 300px;
    }
    .content {
        margin-bottom: 10px
    }
    .countview {
        width: 50px;
    }
    .container{
    display: flex;
    }
    .container>div{
        width: 50%;
    }
  </style>
</head>
<body>
    <div id="folder">
        <div class="content">
            <label>タイトル</label>
            <input id="titleform" class="team" type="text" placeholder="BO5">
        </div>

        <hr>
        <div class="container">
            <div>
                <label>TEAM1</label>
                <br>
                <input id="team1" class="team" type="text" placeholder="アルファチーム">

                <input id="p1count" type="text" class="countview" readonly>
                <button id="p1inc">+1</button>
                <button id="p1dec">-1</button>
                <br>
            </div>
            <div>
                <label>TEAM2</label>
                <br>
                <input id="team2" class="team" type="text" placeholder="ブラボーチーム">

                <input id="p2count" type="text" class="countview" readonly>
                <button id="p2inc">+1</button>
                <button id="p2dec">-1</button>
                <br>
            </div>
        </div>

        <hr>

        <div class="container">
            <div>
                <label>TEAM1_P1</label>
                <br>
                <input id="player1" class="team" type="text" placeholder="プレイヤー1">
                <br>

                <label>TEAM1_P2</label>
                <br>
                <input id="player2" class="team" type="text" placeholder="プレイヤー2">
                <br>

                <label>TEAM1_P3</label>
                <br>
                <input id="player3" class="team" type="text" placeholder="プレイヤー3">
                <br>

                <label>TEAM1_P4</label>
                <br>
                <input id="player4" class="team" type="text" placeholder="プレイヤー4">
                <br>
            </div>

            <div>
                <label>TEAM2_P1</label>
                <br>
                <input id="player5" class="team" type="text" placeholder="プレイヤー5">
                <br>

                <label>TEAM2_P2</label>
                <br>
                <input id="player6" class="team" type="text" placeholder="プレイヤー6">
                <br>

                <label>TEAM2_P3</label>
                <br>
                <input id="player7" class="team" type="text" placeholder="プレイヤー7">
                <br>

                <label>TEAM2_P4</label>
                <br>
                <input id="player8" class="team" type="text" placeholder="プレイヤー8">
                <br>
            </div>
        </div>
    </div>
    <div id="folder">
    <div class="content">
    
    <button id="submitButton">名前反映</button><button id="clearButton">クリア</button>
    <button id="loadButton">紅白戦名前呼出</button>

</div>

</div>

</body>
<script>
    
    const titleform = document.getElementById("titleform");
    const titleRep = nodecg.Replicant("title", {defaultValue: ""});

    const team1 = document.getElementById("team1");
    const team2 = document.getElementById("team2");

    const player1 = document.getElementById("player1");
    const player2 = document.getElementById("player2");
    const player3 = document.getElementById("player3");
    const player4 = document.getElementById("player4");
    const player5 = document.getElementById("player5");
    const player6 = document.getElementById("player6");
    const player7 = document.getElementById("player7");
    const player8 = document.getElementById("player8");

    const t1Rep = nodecg.Replicant("t1name", {defaultValue: ""});
    const t2Rep = nodecg.Replicant("t2name", {defaultValue: ""});

    const p1Rep = nodecg.Replicant("p1name", {defaultValue: ""});
    const p2Rep = nodecg.Replicant("p2name", {defaultValue: ""});
    const p3Rep = nodecg.Replicant("p3name", {defaultValue: ""});
    const p4Rep = nodecg.Replicant("p4name", {defaultValue: ""});
    const p5Rep = nodecg.Replicant("p5name", {defaultValue: ""});
    const p6Rep = nodecg.Replicant("p6name", {defaultValue: ""});
    const p7Rep = nodecg.Replicant("p7name", {defaultValue: ""});
    const p8Rep = nodecg.Replicant("p8name", {defaultValue: ""});

    const submitButton = document.getElementById("submitButton");
    const clearButton = document.getElementById("clearButton");
    const loadButton = document.getElementById("loadButton");

    const p1incEl = document.getElementById('p1inc')
    const p1decEl = document.getElementById('p1dec')

    const p1countView = document.getElementById('p1count')
    const p1countReplicant = nodecg.Replicant('count1', {defaultValue: 0})

    const p2incEl = document.getElementById('p2inc')
    const p2decEl = document.getElementById('p2dec')

    const p2countView = document.getElementById('p2count')
    const p2countReplicant = nodecg.Replicant('count2', {defaultValue: 0})

    const redTeam = nodecg.Replicant("redTeam");
    const whiteTeam = nodecg.Replicant("whiteTeam");


    redTeam.on('change', (newValue, oldValue) => {
  });

  whiteTeam.on('change', (newValue, oldValue) => {
  });

        NodeCG.waitForReplicants(titleRep,p1Rep,p2Rep,p1countReplicant, p2countReplicant).then(() => {
        
        nodecg.readReplicant('title', value => {
        titleform.value = value;
        });

        nodecg.readReplicant('t1name', value => {
            team1.value = value;
        });

        nodecg.readReplicant('t2name', value => {
            team2.value = value;
        });

        nodecg.readReplicant('p1name', value => {
            player1.value = value;
        });

        nodecg.readReplicant('p2name', value => {
            player2.value = value;
        });

        nodecg.readReplicant('p3name', value => {
            player3.value = value;
        });

        nodecg.readReplicant('p4name', value => {
            player4.value = value;
        });

        nodecg.readReplicant('p5name', value => {
            player5.value = value;
        });

        nodecg.readReplicant('p6name', value => {
            player6.value = value;
        });

        nodecg.readReplicant('p7name', value => {
            player7.value = value;
        });

        nodecg.readReplicant('p8name', value => {
            player8.value = value;
        });

     nodecg.readReplicant('count1', value => {
        p1countView.value = value;
        });

        nodecg.readReplicant('count2', value => {
        p2countView.value = value;
        });

});


        p1incEl.addEventListener('click', () => {
            p1countView.value = p1countReplicant.value += 1
        })

        p1decEl.addEventListener('click', () => {
            if(p1countReplicant.value > 0){ 
            p1countView.value = p1countReplicant.value -= 1
            }
        })

        p2incEl.addEventListener('click', () => {
            p2countView.value = p2countReplicant.value += 1
        })

        p2decEl.addEventListener('click', () => {
            if(p2countReplicant.value > 0){ 
            p2countView.value = p2countReplicant.value -= 1
            }
        })

        loadButton.addEventListener('click',() => {

            var redObj = redTeam.value;

            for (var i = 0; i < redObj.length; i++) {
                if (redObj[i].checked == true) {
                    player1.value = redObj[i].text;
                    p1Rep.value = player1.value;
                    p1countView.value = 0;
                    p1countReplicant.value = 0;
                }
            }

            var whiteObj = whiteTeam.value;

            for (var i = 0; i < whiteObj.length; i++) {
            if (whiteObj[i].checked == true) {
            player2.value = whiteObj[i].text;
            p2Rep.value = player2.value;
            p2countView.value = 0;
            p2countReplicant.value = 0;
    }
}


        })

        submitButton.onclick = () => {
        titleRep.value = titleform.value;
        t1Rep.value = team1.value;
        t2Rep.value = team2.value;
        p1Rep.value = player1.value;
        p2Rep.value = player2.value;
        p3Rep.value = player3.value;
        p4Rep.value = player4.value;
        p5Rep.value = player5.value;
        p6Rep.value = player6.value;
        p7Rep.value = player7.value;
        p8Rep.value = player8.value;
    }

    clearButton.onclick = () => {
        titleRep.value = titleform.value = "";
        t1Rep.value = team1.value = "";
        t2Rep.value = team2.value = "";
        p1Rep.value = player1.value = "";
        p2Rep.value = player2.value = "";
        p3Rep.value = player3.value = "";
        p4Rep.value = player4.value = "";
        p5Rep.value = player5.value = "";
        p6Rep.value = player6.value = "";
        p7Rep.value = player7.value = "";
        p8Rep.value = player8.value = "";
        p1countView.value = p1countReplicant.value = 0;
        p2countView.value = p2countReplicant.value = 0;
    }

</script>
</html>